import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { useState } from 'react';
import { useDirectory } from '../src';

<Meta title="Web APIs/File System Access API" />

# EyeDropper API

The [File System Access API](https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API) allows read, write and file management capabilities.

## useDirectory

```javascript
import { useDirectory } from '@terenceodonoghue/react-hooks';
```

<Canvas>
  <Story name="useDirectoryHook">
    {() => {
      const [getDirectory, entries] = useDirectory();
      return (
        <div style={{ display: 'flex', alignItems: 'flex-start', gap: 16 }}>
          <button onClick={getDirectory}>Open directory</button>
          <ul style={{ margin: 0 }}>
            {entries
              .sort((a, b) => a.name.localeCompare(b.name))
              .sort((a, b) => {
                if (a.kind === b.kind) {
                  return 0;
                }
                if (a.kind === 'directory' && b.kind === 'file') {
                  return -1;
                }
                if (a.kind === 'file' && b.kind === 'directory') {
                  return 1;
                }
              })
              .map((entry) => (
                <li key={entry.name}>
                  {entry.name} - {entry.kind}
                </li>
              ))}
          </ul>
        </div>
      );
    }}
  </Story>
</Canvas>
